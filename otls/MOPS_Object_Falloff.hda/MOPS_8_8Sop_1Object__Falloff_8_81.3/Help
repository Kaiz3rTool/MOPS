= MOPs Object Falloff =

#icon: opdef:.?mops_falloff_04.svg

"""Generates a falloff value using a geometry."""

This node generates a falloff value using a geometry.

MOPs is based on a falloff value (usually in the range of 0-1). The falloff value controls how strongly instances will be affected by modifiers.

== Overview ==

@inputs

Packed Primitives:
    Plug in MOPs instances in here.
    
Geometry:
    Plug in geometry in here.

@parameters

== General ==

Falloff Attribute:
    #id: falloff_attr
    The point attribute to use as the falloff attribute.

Preview Falloff:
    #id: preview
    Enable display of the falloff values in the viewport.

Blend Mode:
    #id: input3
    The blend mode for combining the effects of this operator with any previous falloff value. See [MOPs Combine Falloffs|Node:sop/MOPS--Combine_Falloffs-1.0] for details.

Blend Strength:
    #id: strength
    The blend weight for the value generated by this Falloff.
    
Clamp:
    #id: switchclamp
    Clamp the resulting Falloff value to a 0-1 range.
    
== Object ==

Area of Influence:
    #id: input2

    Select which instances to affect.
    - Inside: Instances inside of the geometry will receive a falloff value generated from the distance of each instance to the closest point on the geometry surface. Instances outside of the geometry will receive a falloff value of 0.
    - Outside: Instances outside of the geometry will receive a falloff value generated from the distance of each instance to the closest point on the geometry surface. Instances inside of the geometry will receive a falloff value of 0.
    - Inside & Outside: Instances will receive a falloff value generated from the distance of each instance to the closest point on the geometry surface.
    - Inside & Outside (signed): generated from the distance of each instance to the closest point on the geometry surface. Instances inside of a mesh will have a negative falloff value.
    - Volume Sample: Sample a fog or SDF volume primitive. The minimum and maximum of the volume primitive are used to fit the range of the falloff.

Volume Primitive:
    #id: volume_primitive
    
    The volume primitive to sample values from. You can either specify the number, or use an ad-hoc mask (@name="surface").
    
(Re)Calculate Normals:
    #id: input

    Recalculate incoming geometry's normals.
    
Absolute Value:
    #id: absolute
    
    Use the absolute value of the volume primitive (Volume Sample mode only). This is generally only meaningful for SDF volumes.
    
Invert:
    #id: invert
    Invert the value of the volume primitive. SDF volumes will return negative values when "inside" the volume, so if you want to affect points inside an SDF, enable this.
    
== Remap ==
    
Fit:
    #id: switchfit

    Enable falloff remapping.
    
Auto min and max input values:
    #id: auto_min_max
    
    Automatically determine the minimum and maximum values to remap from.
    
Reference Frame:
    #id: frame
    The frame to use when computing the automatic minimum and maximum to remap from.
    
Input min: 
    #id: imin
    The minimum value to remap from.
    
Input Max:
    #id: imax
    The maximum value to remap from.
    
Output Min:
    #id: omin
    The minimum value to remap to.
    
Output Max:
    #id: omax
    The maximum value to remap to.
    
Remap Falloff:
    #id: remap_falloff
    A ramp that can be used to fine-tune the remapping values.
    
                       