= MOPs Set Sequence Time = 

#icon: opdef:.?mops_TD_tools_05.svg

"""Modifies the time of Packed Disk Sequences or Alembic sequences that have been Instanced using MOPs."""

This node can modify the frame index and the cycling mode of any sequences instanced by the MOPs Instancer.
It does this by modifying the `abcframe` intrinsic of Alembic sequences, or the `index` intrinsic of Packed Disk Sequences.

This node requires point attributes that are generated by the MOPs Instancer in order to properly cycle Alembic sequences, since this behavior isn't supported by default in Houdini.
This attributes are: `f@mops_abc_start`, `f@mops_abc_end`, and `s@mops_abc_wrap`.

NOTE:
    Packed Alembics and Packed Disk Sequences don't always reliably show you the correct sequence index in the viewport. If you want to check 
    to verify the sequence indexes are being set correctly, you'll need to either render or unpack. The objects should always render correctly regardless of what the viewport tells you!
    
NOTE:
    If you want to adjust packed Alembic sequences that weren't originally created by the MOPs Instancer, you can simply enable "Set Cycling Mode" and "Set Alembic Range" and the required point attributes will be created for you.

== Overview ==

@inputs

Packed Primitives:
    Plug in MOPs instances here.
    
@parameters

== General ==

Frame Index:
    #id: index
    The frame you want the sequences to use, or an amount to add to the frame (or other operations, depending on the Mode parameter). Frames can be fractional if the sequence's point count is consistent.
    
Mode:
    #id: mode
    The method by which you want to adjust the Frame Index.
    
Set Cycling Mode:
    #id: change_cycle
    Enable to set the cycling mode of the sequence using the Cycling Mode control.
    
Cycling Mode:
    #id: cycle_mode
    Choose how the sequence cycles. The options are:
        * Cycle: The sequence loops normally.
        * Clamp: The sequence only plays between its defined start and end frames, then holds still.
        * Mirror: The sequence ping-pongs between the start and end frames.
        * Strict: The sequence plays once. If any objects are outside their start and end frames, they will be deleted.
        
    On Packed Alembics, this sets the s@mops_abc_wrap attribute.
        
Set Alembic Range:
    #id: do_abc_range
    Choose a new frame range (Alembic only). This affects the frame cycling range. This sets the f@mops_abc_start and f@mops_abc_end attributes.

